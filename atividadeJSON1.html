<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atividade Json 1</title>
</head>
<body>

    <h2>Cadastro de Produtos - ESTOQUE</h2>

    <h4>Informe o nome do produto</h4>
        <input id="in_produto">

    <h4>Informe o valor do produto</h4>
        <input id="in_preco" type="number">

    <h4>Selecione a categoria do produto</h4>
        <select id="sel_categoria">
            <option value=""></option>
            <option value="Gerais">Gerais</option>
            <option value="Alimentos">Alimentos</option>
            <option value="Eletrônicos">Eletrônicos</option>
        </select>

        <br><br>

    <button onclick="cadastrar()">Registrar Produto</button>
    <button onclick="listar()">Listar Produtos</button>

        <br><br>

    <div id="div_produto"></div>
    
</body>
</html>
<script>
    produtos = [];

    function cadastrar(){
        var prod = in_produto.value;
        var preco = in_preco.value;
        var tipo = sel_categoria.value;


        if(prod == "" || preco == "" || tipo == ""){
            alert('Preencha corretamente os campos')
        }else{
            var estoque = {
            produto: prod,
            valor: preco,
            categoria: tipo
        }  

        produtos.push(estoque)
        }

        
    }

    function listar(){
        div_produto.innerHTML = ''

        for(i = 0; i < produtos.length; i++ ){
            var produtoAtual = produtos[i]

            div_produto.innerHTML += `Produto: ${produtoAtual.produto} <br> Valor: ${produtoAtual.valor} <br> Categoria: ${produtoAtual.categoria}<br><br>`
        }
    }

</script>