<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atividade VETOR/JSON 5</title>
</head>
<style>
    body{
        color: white;
        background-color: black;
    }
    img{
        height: 60%;
        width: 60%;
    }
    input{
        margin-left: 5px;
        border:none;
        outline: none;
    }
    .anya{
        margin-top: -20%;
        margin-left: 45%;
    }
    .imagens{
        position: fixed;
        width: 60%;
        margin-left: 30%;
    }
</style>
<body>
    <div class="imagens">
        <img src="https://3.bp.blogspot.com/-wQuSbcJI4zc/Xfv62DqEulI/AAAAAAAASqo/rv4TJUCUF8sjRvACZQKllD1E0dYjZ0eIQCLcBGAsYHQ/w919/nezuko-cute-kimetsu-no-yaiba-uhdpaper.com-4K-3.1425-wp.thumbnail.jpg" alt="">
    </div>
    
</body>

    <h2>Nome do produto:</h2> 
        <input id="in_nomeProd">

    <h2>Preco do produto</h2>
        <input id="in_preco">

            <br><br>

    <button onclick="cadastrar()">Cadastrar</button>

        <br><br>

    <button onclick="registro()">Relatório de estoque</button>

        <br><br>

    <div id="div_resultado"></div>
    <div id="div_pesquisa"></div>
</html>

<script>
    var nomeP = []
    var preco = []

    function cadastrar(){
        var precoP = Number(in_preco.value);

        if(in_nomeProd.value == '' || in_preco.value == ''){
            alert('Informe os dados corretamente')
        }else{
            nomeP.push(in_nomeProd.value);
            preco.push(precoP);
        }
        
    }

    function registro(){

        div_resultado.innerHTML = `Total de Produtos: ${nomeP.length}`

        for(i = 0; i < nomeP.length; i++){

            var taxa = preco[i] * 0.25;
            var vender = preco[i] + taxa

            div_resultado.innerHTML += `<br><br>Produto ${i+1}: ${nomeP[i]}<br>
                                        Preço de compra: R$${preco[i]}. Vender por R$${vender}` 
        }


       
        var precoAtualM = 0;
        var menor = 10000000000;
        var total = 0;
        var qtd = nomeP.length
        var menorProd = ''

        for(j = 0; j < preco.length; j++){ 

            if(preco[j] > precoAtualM){
                precoAtualM = preco[j];

                var maiorProd = nomeP[j]
            }
        
            if(preco[j] < menor){
                menor = preco[j];

                menorProd = nomeP[j]
            }

            total += preco[j]
        }

        div_resultado.innerHTML += `<br><br> O nome do produto mais caro: ${maiorProd} <br>
     O nome do produto mais barato: ${menorProd}<br>
     A soma dos preços de compra dos produtos: ${total}<br>
    A média de preço de venda dos produtos: ${total / qtd}`
    }
</script>